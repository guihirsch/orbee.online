<!doctype html>
<html>
   <head>
      <title>Visualiza√ß√£o de Pontos Cr√≠ticos NDVI - Offline</title>
      <meta charset="utf-8" />
      <style>
         body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
         }
         .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
         }
         h1 {
            color: #333;
            text-align: center;
         }
         .info-box {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
         }
         .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
         }
         .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
         }
         .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
         }
         .coordinates {
            font-family: monospace;
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
         }
         .point-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
         }
         .point-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
         }
         .point-item:last-child {
            border-bottom: none;
         }
         .ndvi-value {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 15px;
            color: white;
         }
         .ndvi-very-low {
            background-color: #dc3545;
         }
         .ndvi-low {
            background-color: #fd7e14;
         }
         .ndvi-medium {
            background-color: #ffc107;
            color: #333;
         }
         .ndvi-na {
            background-color: #6c757d;
         }
         .map-container {
            height: 500px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin: 20px 0;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
         }
         .map-placeholder {
            text-align: center;
            color: #666;
         }
         .coordinate-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 10px 0;
         }
         .coord-item {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 12px;
         }
      </style>
   </head>
   <body>
      <div class="container">
         <h1>üó∫Ô∏è An√°lise de Pontos Cr√≠ticos NDVI - Vers√£o Offline</h1>

         <div class="info-box">
            <h3>üìä Resumo dos Dados</h3>
            <p><strong>Total de pontos:</strong> 83</p>
            <p><strong>NDVI m√≠nimo:</strong> -0.1103</p>
            <p><strong>NDVI m√°ximo:</strong> 0.2884</p>
            <p><strong>NDVI m√©dio:</strong> 0.0818</p>
            <p><strong>Distribui√ß√£o:</strong></p>
            <ul>
               <li>NDVI < 0.1 (muito baixo): 57 pontos (68.7%)</li>
               <li>NDVI 0.1-0.2 (baixo): 16 pontos (19.3%)</li>
               <li>NDVI 0.2-0.3 (m√©dio): 10 pontos (12.0%)</li>
            </ul>
         </div>

         <div class="legend">
            <div class="legend-item">
               <div
                  class="legend-color"
                  style="background-color: #dc3545"
               ></div>
               <span>NDVI < 0.1 (Muito Baixo) - 57 pontos</span>
            </div>
            <div class="legend-item">
               <div
                  class="legend-color"
                  style="background-color: #fd7e14"
               ></div>
               <span>NDVI 0.1-0.2 (Baixo) - 16 pontos</span>
            </div>
            <div class="legend-item">
               <div
                  class="legend-color"
                  style="background-color: #ffc107"
               ></div>
               <span>NDVI 0.2-0.3 (M√©dio) - 10 pontos</span>
            </div>
         </div>

         <div class="coordinates">
            <h3>üìç Informa√ß√µes Geogr√°ficas</h3>
            <p><strong>Centro da √°rea:</strong> -29.484170, -52.514294</p>
            <p><strong>Range de coordenadas:</strong></p>
            <p>Latitude: -29.592403 a -29.375411</p>
            <p>Longitude: -52.566230 a -52.459853</p>
            <p>
               <strong>Localiza√ß√£o:</strong> Regi√£o de Santa Cruz do Sul, Rio
               Grande do Sul, Brasil
            </p>
         </div>

         <div class="map-container">
            <div class="map-placeholder">
               <h3>üó∫Ô∏è Mapa Interativo</h3>
               <p>
                  Para visualizar o mapa interativo, use uma das seguintes
                  op√ß√µes:
               </p>
               <ol>
                  <li>
                     <strong>GeoJSON.io:</strong>
                     <a href="https://geojson.io" target="_blank"
                        >https://geojson.io</a
                     >
                  </li>
                  <li>
                     <strong>QGIS:</strong> Software gratuito para an√°lise
                     geoespacial
                  </li>
                  <li>
                     <strong>Google Earth:</strong> Importe o arquivo KML
                     (convertido do GeoJSON)
                  </li>
               </ol>
               <p><strong>Instru√ß√µes:</strong></p>
               <ol>
                  <li>
                     Copie o conte√∫do do arquivo
                     <code>critical_points_sr (1).json</code>
                  </li>
                  <li>Cole no GeoJSON.io</li>
                  <li>O mapa ser√° exibido automaticamente</li>
               </ol>
            </div>
         </div>

         <h3>üîç Lista de Pontos Cr√≠ticos (Primeiros 20)</h3>
         <div class="point-list" id="point-list">
            <!-- Pontos ser√£o inseridos aqui pelo JavaScript -->
         </div>

         <div class="coordinates">
            <h3>üìã Coordenadas para Uso em Outras Ferramentas</h3>
            <p><strong>Formato para Google Earth:</strong></p>
            <div class="coordinate-grid" id="google-earth-coords">
               <!-- Coordenadas ser√£o inseridas aqui -->
            </div>
         </div>
      </div>

      <script>
         // Dados dos pontos cr√≠ticos (primeiros 20 para demonstra√ß√£o)
         const criticalPoints = [
            {
               geometry: {
                  coordinates: [-52.462480373594474, -29.38631332041124],
               },
               properties: { ndvi: 0.08031599736668861 },
            },
            {
               geometry: {
                  coordinates: [-52.46124111644229, -29.387609491017894],
               },
               properties: { ndvi: 0.1391054575297497 },
            },
            {
               geometry: {
                  coordinates: [-52.46140991940959, -29.389285870982114],
               },
               properties: { ndvi: 0.10390469887491727 },
            },
            {
               geometry: {
                  coordinates: [-52.461850858787216, -29.39094304325222],
               },
               properties: { ndvi: 0.017531797868683398 },
            },
            {
               geometry: {
                  coordinates: [-52.46670045350994, -29.39239926219407],
               },
               properties: { ndvi: 0.08026554013277007 },
            },
            {
               geometry: {
                  coordinates: [-52.468625513024236, -29.392227038944085],
               },
               properties: { ndvi: 0.02103861517976032 },
            },
            {
               geometry: {
                  coordinates: [-52.469687264225584, -29.393007368254644],
               },
               properties: { ndvi: 0.03330625507717303 },
            },
            {
               geometry: {
                  coordinates: [-52.46818482575888, -29.39403618305117],
               },
               properties: { ndvi: 0.18618897345461297 },
            },
            {
               geometry: {
                  coordinates: [-52.46837798180776, -29.396430686309518],
               },
               properties: { ndvi: 0.25596573526412403 },
            },
            {
               geometry: {
                  coordinates: [-52.47015211836137, -29.397124650093023],
               },
               properties: { ndvi: 0.13803376365441908 },
            },
            {
               geometry: {
                  coordinates: [-52.471711698277254, -29.398094957596292],
               },
               properties: { ndvi: 0.08074534161490683 },
            },
            {
               geometry: {
                  coordinates: [-52.472584505037865, -29.399579458844443],
               },
               properties: { ndvi: 0.0639161312140683 },
            },
            {
               geometry: {
                  coordinates: [-52.47352122635596, -29.40104367142358],
               },
               properties: { ndvi: 0.20815552394499762 },
            },
            {
               geometry: {
                  coordinates: [-52.474683464070445, -29.40238812009137],
               },
               properties: { ndvi: 0.1579598145285935 },
            },
            {
               geometry: {
                  coordinates: [-52.47208798558146, -29.40309333896223],
               },
               properties: { ndvi: 0.056816119077872575 },
            },
            {
               geometry: {
                  coordinates: [-52.47045413315777, -29.403514216500895],
               },
               properties: { ndvi: 0.11653984781738086 },
            },
            {
               geometry: {
                  coordinates: [-52.47014221929118, -29.405148868160264],
               },
               properties: { ndvi: 0.06663339156476167 },
            },
            {
               geometry: {
                  coordinates: [-52.47031967128872, -29.406842769803244],
               },
               properties: { ndvi: 0.0353661932609301 },
            },
            {
               geometry: {
                  coordinates: [-52.47053411527641, -29.40853372272734],
               },
               properties: { ndvi: 0.1357098186366479 },
            },
            {
               geometry: {
                  coordinates: [-52.473306522136866, -29.409439910748624],
               },
               properties: { ndvi: 0.08206686930091185 },
            },
         ];

         // Fun√ß√£o para processar e exibir os dados
         function processData() {
            const pointList = document.getElementById("point-list");
            const googleEarthCoords = document.getElementById(
               "google-earth-coords"
            );

            // Limpar listas
            pointList.innerHTML = "";
            googleEarthCoords.innerHTML = "";

            criticalPoints.forEach((point, index) => {
               const coords = point.geometry.coordinates;
               const ndvi = point.properties.ndvi;

               // Criar item da lista
               const pointDiv = document.createElement("div");
               pointDiv.className = "point-item";

               let ndviClass = "ndvi-na";
               let ndviText = "N/A";

               if (ndvi !== null && ndvi !== undefined) {
                  if (ndvi < 0.1) {
                     ndviClass = "ndvi-very-low";
                  } else if (ndvi < 0.2) {
                     ndviClass = "ndvi-low";
                  } else {
                     ndviClass = "ndvi-medium";
                  }
                  ndviText = ndvi.toFixed(4);
               }

               pointDiv.innerHTML = `
                    <div>
                        <strong>Ponto ${index + 1}</strong><br>
                        <small>Lat: ${coords[1].toFixed(6)}, Lon: ${coords[0].toFixed(6)}</small>
                    </div>
                    <div class="ndvi-value ${ndviClass}">
                        ${ndviText}
                    </div>
                `;

               pointList.appendChild(pointDiv);

               // Adicionar coordenadas para Google Earth
               const coordDiv = document.createElement("div");
               coordDiv.className = "coord-item";
               coordDiv.textContent = `${coords[1].toFixed(6)}, ${coords[0].toFixed(6)}`;
               googleEarthCoords.appendChild(coordDiv);
            });
         }

         // Processar dados quando a p√°gina carregar
         window.addEventListener("load", processData);
      </script>
   </body>
</html>
